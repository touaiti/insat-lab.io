webpackJsonp([6],{"1qox":function(t,e,i){var n=i("ibpt");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("2e869926",n,!0)},Jzhb:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,'\n.example[data-v-3f513452] {\r\n  font-size: 50px;\r\n  color: #F6416C;\r\n  display: block;\r\n  margin: 10px 0;\r\n  text-align: center;\r\n  font-size: 80px;\r\n  font-weight: 500;\n}\ntextarea[data-v-3f513452]{\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n  border: 1px solid #dcdfe6;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  color: #606266;\r\n  display: inline-block;\r\n  font-size: inherit;\r\n  height: 100px;\r\n  line-height: 1;\r\n  outline: 0;\r\n  padding: 15px 15px !important;\r\n  -webkit-transition: border-color .2s cubic-bezier(.645,.045,.355,1);\r\n  transition: border-color .2s cubic-bezier(.645,.045,.355,1);\r\n  width: 100%;\n}\n.fa-circle-thin[data-v-3f513452]:before {\r\n    content: "\\F1DB";\n}\n.btn-prev[data-v-3f513452], .btn-next[data-v-3f513452], .play-pause-btn[data-v-3f513452] {\r\n    display: inline-block;\n}\n.fa-backward[data-v-3f513452]{\r\n    margin-left: 0.4em;\r\n    margin-top: 0.1em;\n}\n.fa-forward[data-v-3f513452]{\r\n    margin-left: 0.6em;\r\n    margin-top: 0.1em;\n}\n.fa-play[data-v-3f513452]{\r\n    margin-left: 0.7em;\r\n    margin-top: 0.1em;\n}\n.fa-pause[data-v-3f513452]{\r\n    margin-left: 0.6em;\r\n    margin-top: 0.1em;\n}\n.mark[data-v-3f513452]{\r\n  display: inline-block;\r\n  text-align: center;\r\n  border: 2px solid green;\r\n  border-radius: 50%;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  color: #212121;\r\n  min-width: 35px;\r\n  width: 35px;\r\n  max-width: 35px;\r\n  height: 35px;\n}\r\n',""])},MOmO:function(t,e,i){t.exports=i.p+"static/img/401.089007e.gif"},PeHq:function(t,e,i){"use strict";var n={props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#bbff42"},stopColor:{type:String,required:!1,default:"#429321"},strokeWidth:{type:Number,required:!1,default:10},animateSpeed:{type:Number,required:!1,default:1e3},innerStrokeColor:{type:String,required:!1,default:"#323232"},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"}},data:function(){return{gradient:{fx:.99,fy:.5,cx:.5,cy:.5,r:.65},gradientAnimation:null,currentAngle:0,strokeDashoffset:0}},computed:{radius:function(){return this.diameter/2},circumference:function(){return Math.PI*this.innerCircleDiameter},stepSize:function(){return 0===this.totalSteps?0:100/this.totalSteps},finishedPercentage:function(){return this.stepSize*this.completedSteps},circleSlice:function(){return 2*Math.PI/this.totalSteps},animateSlice:function(){return this.circleSlice/this.totalPoints},innerCircleDiameter:function(){return this.diameter-2*this.strokeWidth},innerCircleRadius:function(){return this.innerCircleDiameter/2},totalPoints:function(){return this.animateSpeed/this.animationIncrements},animationIncrements:function(){return 1e3/this.fps},hasGradient:function(){return this.startColor!==this.stopColor},containerStyle:function(){return{height:this.diameter+"px",width:this.diameter+"px"}},progressStyle:function(){return{height:this.diameter+"px",width:this.diameter+"px",strokeWidth:this.strokeWidth+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dashoffset "+this.animateSpeed+"ms "+this.timingFunc}},strokeStyle:function(){return{height:this.diameter+"px",width:this.diameter+"px",strokeWidth:this.strokeWidth+"px"}},innerCircleStyle:function(){return{width:this.innerCircleDiameter+"px"}}},methods:{getStopPointsOfCircle:function(t){for(var e=[],i=0;i<t;i++){var n=this.circleSlice*i;e.push(this.getPointOfCircle(n))}return e},getPointOfCircle:function(t){return{x:.5+.5*Math.cos(t),y:.5+.5*Math.sin(t)}},gotoPoint:function(){var t=this.getPointOfCircle(this.currentAngle);this.gradient.fx=t.x,this.gradient.fy=t.y},changeProgress:function(t){var e=this,i=t.isAnimate,n=void 0===i||i;if(this.strokeDashoffset=(100-this.finishedPercentage)/100*this.circumference,this.gradientAnimation&&clearInterval(this.gradientAnimation),n){var s=(this.completedSteps-1)*this.circleSlice,r=(this.currentAngle-s)/this.animateSlice,a=Math.abs(r-this.totalPoints)/this.totalPoints,o=r<this.totalPoints;this.gradientAnimation=setInterval(function(){o&&r>=e.totalPoints||!o&&r<e.totalPoints?clearInterval(e.gradientAnimation):(e.currentAngle=s+e.animateSlice*r,e.gotoPoint(),r+=o?a:-a)},this.animationIncrements)}else this.gotoNextStep()},gotoNextStep:function(){this.currentAngle=this.completedSteps*this.circleSlice,this.gotoPoint()}},watch:{totalSteps:function(){this.changeProgress({isAnimate:!0})},completedSteps:function(){this.changeProgress({isAnimate:!0})},diameter:function(){this.changeProgress({isAnimate:!0})},strokeWidth:function(){this.changeProgress({isAnimate:!0})}},created:function(){this.changeProgress({isAnimate:!1})}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"radial-progress-container",style:t.containerStyle},[i("div",{staticClass:"radial-progress-inner",style:t.innerCircleStyle},[t._t("default")],2),t._v(" "),i("svg",{staticClass:"radial-progress-bar",attrs:{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("defs",[i("radialGradient",{attrs:{id:"radial-gradient"+t._uid,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r}},[i("stop",{attrs:{offset:"30%","stop-color":t.startColor}}),t._v(" "),i("stop",{attrs:{offset:"100%","stop-color":t.stopColor}})],1)],1),t._v(" "),i("circle",{style:t.strokeStyle,attrs:{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:t.innerStrokeColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":"round"}}),t._v(" "),i("circle",{style:t.progressStyle,attrs:{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:"url(#radial-gradient"+t._uid+")","stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":"round"}})])])},staticRenderFns:[]};var r=i("VU/8")(n,s,!1,function(t){i("tcbv")},null,null);e.a=r.exports},"S+12":function(t,e,i){"use strict";var n=i("mvHQ"),s=i.n(n),r=i("DAYN"),a=i.n(r),o=i("lQsF"),l={name:"index",components:{draggable:a.a,Matching:o.a},computed:{filterListOption1:function(){var t=this;return this.options1.filter(function(e){return t.isNotInList1(e)?e:(console.log(s()(t.options1)),e)})},filterListOption2:function(){var t=this;return this.options2.filter(function(e){return t.isNotInList1(e),e})}},props:{options1:{type:Array,default:function(){return[]}},options2:{type:Array,default:function(){return[]}},list1:{type:Array,default:function(){return[]}},list2:{type:Array,default:function(){return[]}},width1:{type:String,default:"45%"},width2:{type:String,default:"45%"}},methods:{isNotInList1:function(t){return this.options1.every(function(e){return t.id!==e.id})},isNotInList2:function(t){return this.options2.every(function(e){return t.id!==e.id})},handleChange:function(){console.log("changed")},getComponentData:function(){return{on:{change:this.handleChange}}}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dndList"},[i("div",{staticClass:"dndList-list",style:{width:t.width1}},[i("draggable",{staticClass:"dragArea",attrs:{list:t.options1}},t._l(t.options1,function(e,n){return i("div",{key:n,staticClass:"list-complete-item"},[i("div",{staticClass:"list-complete-item-handle"},[t._v("\n          "+t._s(e.text)+"\n      ")])])}))],1),t._v(" "),i("div",{staticClass:"dndList-list",style:{width:t.width1}},[i("draggable",{staticClass:"dragArea",attrs:{list:t.options2}},t._l(t.options2,function(e,n){return i("div",{key:n,staticClass:"list-complete-item"},[i("div",{staticClass:"list-complete-item-handle"},[t._v("\n          "+t._s(e.text)+"\n      ")])])}))],1)])},staticRenderFns:[]};var d=i("VU/8")(l,c,!1,function(t){i("sauj")},"data-v-0fc19b68",null);e.a=d.exports},YCEf:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,'\n.dndList[data-v-0fc19b68] {\n  text-align: center;\n  background: #fff;\n  padding-bottom: 40px;\n}\n.dndList[data-v-0fc19b68]:after {\n    content: "";\n    clear: both;\n}\n.dndList .dndList-list[data-v-0fc19b68] {\n    vertical-align: middle;\n    display: inline-block !important;\n    padding-bottom: 30px;\n}\n.dndList .dndList-list[data-v-0fc19b68]:first-of-type {\n      margin-right: 2%;\n}\n.dndList .dndList-list .dragArea[data-v-0fc19b68] {\n      margin-top: 15px;\n      min-height: 50px;\n      padding-bottom: 30px;\n}\n.list-complete-item[data-v-0fc19b68] {\n  cursor: pointer;\n  position: relative;\n  font-size: 14px;\n  padding: 5px 12px;\n  margin-top: 4px;\n  border: 1px solid #bfcbd9;\n  -webkit-transition: all 1s;\n  transition: all 1s;\n}\n.list-complete-item-handle[data-v-0fc19b68] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-right: 50px;\n}\n.list-complete-item-handle2[data-v-0fc19b68] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-right: 20px;\n}\n.list-complete-item.sortable-chosen[data-v-0fc19b68] {\n  background: #4AB7BD;\n}\n.list-complete-item.sortable-ghost[data-v-0fc19b68] {\n  background: #30B08F;\n}\n.list-complete-enter[data-v-0fc19b68],\n.list-complete-leave-active[data-v-0fc19b68] {\n  opacity: 0;\n}\n',""])},dh2U:function(t,e,i){var n=i("Jzhb");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("327f3fb5",n,!0)},fKyj:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mvHQ"),s=i.n(n),r=i("Dd8w"),a=i.n(r),o=i("WBHA"),l=i.n(o),c=i("hULc"),d=i("g3Yb"),p=i("S+12"),u=i("PeHq"),f=i("vHhr"),h=i("hEye"),m=i("NYxO"),v=i("MOmO"),g=i.n(v),b={name:"test",components:{countTo:l.a,Recorder:c.a,RadialProgressBar:u.a,Matching:p.a,VideoRecorder:d.a,Sticky:f.a,errGif:g.a},data:function(){return{testId:this.$route.params.id,queryList:{test:this.$route.params.id,user:this.id},response:null,question:null,recordRTC:null,setStartVal:0,setEndVal:0,setDuration:0,setDecimals:0,setSeparator:"",setSuffix:"",setPrefix:"s ",mainLoading:!1,dialogStartTestVisible:!1,dialogEndVisible:!1,resp:"",completedSteps:0,totalSteps:10,questions:[],testResponse:null,stopColor:"#fff",startColor:"#4885ed",innerStrokeColor:"#fff",errGif:g.a+"?"+ +new Date}},mounted:function(){var t=this;this.getTest();var e=setInterval(function(){t.completedSteps<t.totalSteps?(t.completedSteps+=1,t.response.time_left-=1):clearInterval(e)},100)},computed:a()({},Object(m.b)(["id"])),methods:{getTest:function(){var t=this;Object(h.b)({test:this.$route.params.id,user:this.id}).then(function(e){t.response=e.data.test,console.log(s()(e.data.questions)),t.totalSteps=t.response.test.max_time,t.completedSteps=t.response.test.max_time-t.response.time_left,t.questions=e.data.questions,t.response.responses=t.questions,t.response.responses.forEach(function(t){"MultiChoice"===t.question.type||"UniqueChoice"===t.question.type?t.option_list_1=JSON.parse(t.option_list_1):"Matching"===t.question.type&&(t.option_list_1=JSON.parse(t.option_list_1),t.option_list_2=JSON.parse(t.option_list_2),console.log(t.option_list_1))}),0===t.response.time_left?t.dialogEndVisible=!0:setInterval(function(){Object(h.d)(t.response)},1e4)})},start:function(){this.dialogStartTestVisible=!1},discard:function(){this.mainLoading=!0,this.dialogStartTestVisible=!1},pauseResume:function(){},startTest:function(){this.dialogStartTestVisible=!0},createResponse:function(){console.log(s()(this.testResponse)),Object(h.d)(this.testResponse).then(function(t){})},handleSaveResponse:function(){console.log(s()(this.response)),Object(h.d)(this.response).then(function(t){})}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"app-container"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.mainLoading,expression:"mainLoading"}],staticClass:"test-conatiner"},[i("el-card",[i("code",{staticStyle:{"text-align":"center"}},[i("h1",[t._v(t._s(t.response.test.name))]),t._v(" "),i("radial-progress-bar",{staticStyle:{margin:"0 auto"},attrs:{diameter:200,"completed-steps":t.completedSteps,"total-steps":t.totalSteps,animateSpeed:1e3,stopColor:t.stopColor,startColor:t.startColor,innerStrokeColor:t.innerStrokeColor}},[i("p",{staticClass:"example"},[t._v("\r\n          "+t._s(Math.round((t.totalSteps-t.completedSteps)/1e3))+"\r\n        ")])]),t._v("\r\n    "+t._s(t.response.test.description)+"\r\n    ")],1),t._v(" "),i("el-form",[t._l(t.questions,function(e,n){return i("div",{key:n},[i("div",{staticStyle:{width:"100%"}},[i("div",{staticStyle:{width:"90%",display:"inline-block"}},[t._v(t._s(e.question.title))]),t._v(" "),i("div",{staticClass:"mark"},[t._v("\r\n          "+t._s(e.question.mark)+"\r\n          ")])]),t._v(" "),"Text"===e.question.type?i("div",[i("p",{domProps:{innerHTML:t._s(e.question.text)}})]):t._e(),t._v(" "),"Picture"===e.question.type?i("div",[i("img",{attrs:{src:e.question.picture_url}})]):t._e(),t._v(" "),"Audio"===e.question.type?i("div",[i("audio",{staticStyle:{width:"100%"},attrs:{src:e.question.audio_url,id:"audio-clip",controls:""}})]):t._e(),t._v(" "),"Video"===e.question.type?i("div",[i("video",{staticStyle:{width:"100%"},attrs:{src:e.question.video_url,controls:""}})]):t._e(),t._v(" "),"UniqueChoice"===e.question.type?i("div",[i("el-radio-group",{model:{value:e.option_list_1,callback:function(i){t.$set(e,"option_list_1",i)},expression:"response.option_list_1"}},t._l(e.question.option_list_1.options,function(e,n){return i("div",{key:n,staticStyle:{width:"100%"}},[i("el-radio",{attrs:{label:e.pk}},[t._v(t._s(e.text))])],1)}))],1):t._e(),t._v(" "),"MultiChoice"===e.question.type?i("div",t._l(e.question.option_list_1.options,function(n){return i("div",{key:n.pk,staticStyle:{width:"100%",padding:"5px 15px"}},[i("el-checkbox",{attrs:{value:n.pk,label:n.pk},model:{value:e.option_list_1,callback:function(i){t.$set(e,"option_list_1",i)},expression:"response.option_list_1"}},[t._v(t._s(n.text))])],1)})):t._e(),t._v(" "),"LongTextInput"===e.question.type?i("div",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"response.text"}],staticClass:"el-input el-input",domProps:{value:e.text},on:{input:function(i){i.target.composing||t.$set(e,"text",i.target.value)}}})]):t._e(),t._v(" "),"ShortTextInput"===e.question.type?i("div",[i("el-input",{attrs:{type:"text"},model:{value:e.text,callback:function(i){t.$set(e,"text",i)},expression:"response.text"}})],1):t._e(),t._v(" "),"RecordInput"===e.question.type?i("div",[i("recorder",{attrs:{question:e}})],1):t._e(),t._v(" "),"Matching"===e.question.type?i("div",[i("matching",{attrs:{options1:e.option_list_1,options2:e.option_list_2}})],1):t._e(),t._v(" "),"RecordVideo"===e.question.type?i("div",[i("video-recorder",{attrs:{question:e}})],1):t._e()])}),t._v(" "),i("div",{staticClass:"player-template-rootnode"},[i("div",{staticClass:"meta-artist"},[i("span",{staticClass:"the-artist"}),t._v(" "),i("span",{staticClass:"the-name"})])])],2)],1)],1),t._v(" "),i("el-dialog",{attrs:{"show-icon":!0,visible:t.dialogStartTestVisible},on:{"update:visible":function(e){t.dialogStartTestVisible=e}}},[i("el-button",{on:{click:t.start}},[t._v("Start")]),t._v(" "),i("el-button",{on:{click:t.discard}},[t._v("Discard")])],1),t._v(" "),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{"show-icon":!0,visible:t.dialogEndVisible},on:{"update:visible":function(e){t.dialogEndVisible=e}}},[i("el-row",[i("el-col",{attrs:{div:12}},[i("img",{attrs:{src:t.errGif,width:"250",height:"328",alt:"Test is over !!!"}})]),t._v(" "),i("el-col",{attrs:{div:12}},[i("h3",[t._v("Test is over !!!")])])],1)],1)],1)])},staticRenderFns:[]};var x=i("VU/8")(b,_,!1,function(t){i("dh2U")},"data-v-3f513452",null);e.default=x.exports},hULc:function(t,e,i){"use strict";var n=i("mbvs"),s=i.n(n),r=i("oCAU"),a={name:"recorder",props:{question:{type:Object,default:null}},data:function(){return{recorder:null,mediaConstraints:{video:!1,audio:!0}}},mounted:function(){document.querySelector("#record_audio").src="http://localhost:8000/images/"+this.question.audio_url,navigator.mediaDevices.getUserMedia(this.mediaConstraints).then(this.successCallback).catch()},methods:{startRecording:function(){console.log("Current recorder version: "+this.recordRTC.version),this.recordRTC.startRecording()},stopRecording:function(){var t=this;this.recordRTC.stopRecording(function(e){document.querySelector("#record_audio").src=e;var i=t.question.audio_url;console.log("--------------------------------"),console.log(i);var n=new FormData;n.append("filename",i),n.append("blob",t.recordRTC.getBlob()),Object(r.a)(n)})},successCallback:function(t){this.recordRTC=s()(t,{mimeType:"audio"})}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-container"},[e("audio",{staticStyle:{width:"100%"},attrs:{id:"record_audio",controls:"",preload:"false"}}),this._v(" "),e("div",{staticClass:"controls"},[e("div",{staticClass:"play-pause-btn play",on:{click:this.startRecording}},[this._m(0)]),this._v(" "),e("div",{staticClass:"btn-prev",on:{click:this.stopRecording}},[this._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"fa-stack fa-lg"},[e("i",{staticClass:"fa fa-circle-thin fa-stack-2x"}),this._v(" "),e("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"fa-stack fa-lg"},[e("i",{staticClass:"fa fa-circle-thin fa-stack-2x"}),this._v(" "),e("i",{staticClass:"fa fa-pause",attrs:{"aria-hidden":"true"}})])}]};var l=i("VU/8")(a,o,!1,function(t){i("1qox")},"data-v-3461ee98",null);e.a=l.exports},ibpt:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,'\n.fa-circle-thin[data-v-3461ee98]:before {\n    content: "\\F1DB";\n}\n.btn-prev[data-v-3461ee98], .btn-next[data-v-3461ee98], .play-pause-btn[data-v-3461ee98] {\n    display: inline-block;\n}\n.fa-backward[data-v-3461ee98]{\n    margin-left: 0.4em;\n    margin-top: 0.1em;\n}\n.fa-forward[data-v-3461ee98]{\n    margin-left: 0.6em;\n    margin-top: 0.1em;\n}\n.fa-play[data-v-3461ee98]{\n    margin-left: 0.7em;\n    margin-top: 0.1em;\n}\n.fa-pause[data-v-3461ee98]{\n    margin-left: 0.6em;\n    margin-top: 0.1em;\n}\n',""])},lXjE:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.radial-progress-container {\n  position: relative;\n}\n.radial-progress-inner {\n  position: absolute;\n  top: 0; right: 0; bottom: 0; left: 0;\n  position: absolute;\n  border-radius: 50%;\n  margin: 0 auto;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n",""])},sauj:function(t,e,i){var n=i("YCEf");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("486b1b64",n,!0)},tcbv:function(t,e,i){var n=i("lXjE");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("38e1a277",n,!0)}});